"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/get-music";
exports.ids = ["pages/api/get-music"];
exports.modules = {

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-music&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-music.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-music&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-music.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_get_music_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/get-music.ts */ \"(api)/./pages/api/get-music.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_get_music_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_get_music_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_music_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_music_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/get-music\",\n        pathname: \"/api/get-music\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_get_music_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdldC1tdXNpYyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZ2V0LW11c2ljLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3FEO0FBQ3JEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RvcnktbXVzaWMtZGFwcC8/ODgxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2dldC1tdXNpYy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dldC1tdXNpY1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dldC1tdXNpY1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-music&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-music.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/get-music.ts":
/*!********************************!*\
  !*** ./pages/api/get-music.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _upload_music__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./upload-music */ \"(api)/./pages/api/upload-music.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_upload_music__WEBPACK_IMPORTED_MODULE_0__]);\n_upload_music__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const musicStorage = (0,_upload_music__WEBPACK_IMPORTED_MODULE_0__.getMusicStorage)();\n        res.status(200).json({\n            success: true,\n            music: musicStorage || []\n        });\n    } catch (error) {\n        console.error(\"Error getting music:\", error);\n        res.status(500).json({\n            error: \"Failed to get music NFTs\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ2V0LW11c2ljLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRWdEO0FBRWpDLGVBQWVDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxPQUFPO1FBQ3hCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLElBQUk7UUFDRixNQUFNQyxlQUFlUiw4REFBZUE7UUFDcENHLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJHLFNBQVM7WUFDVEMsT0FBT0YsZ0JBQWdCLEVBQUU7UUFDM0I7SUFDRixFQUFFLE9BQU9ELE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLHdCQUF3QkE7UUFDdENKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUEyQjtJQUMzRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RvcnktbXVzaWMtZGFwcC8uL3BhZ2VzL2FwaS9nZXQtbXVzaWMudHM/OTNkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xuaW1wb3J0IHsgZ2V0TXVzaWNTdG9yYWdlIH0gZnJvbSAnLi91cGxvYWQtbXVzaWMnXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IG11c2ljU3RvcmFnZSA9IGdldE11c2ljU3RvcmFnZSgpXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG11c2ljOiBtdXNpY1N0b3JhZ2UgfHwgW10sXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIG11c2ljOicsIGVycm9yKVxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IG11c2ljIE5GVHMnIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRNdXNpY1N0b3JhZ2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibXVzaWNTdG9yYWdlIiwic3VjY2VzcyIsIm11c2ljIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/get-music.ts\n");

/***/ }),

/***/ "(api)/./pages/api/upload-music.ts":
/*!***********************************!*\
  !*** ./pages/api/upload-music.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler),\n/* harmony export */   getMusicStorage: () => (/* binding */ getMusicStorage)\n/* harmony export */ });\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_functions_uploadToIpfs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/functions/uploadToIpfs */ \"(api)/./utils/functions/uploadToIpfs.ts\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_0__, _utils_functions_uploadToIpfs__WEBPACK_IMPORTED_MODULE_3__]);\n([formidable__WEBPACK_IMPORTED_MODULE_0__, _utils_functions_uploadToIpfs__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n// Persistent file storage\nconst STORAGE_FILE = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"music-storage.json\");\nfunction loadMusicStorage() {\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(STORAGE_FILE)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(STORAGE_FILE, \"utf8\");\n            return JSON.parse(data);\n        }\n    } catch (error) {\n        console.error(\"Error loading music storage:\", error);\n    }\n    return [];\n}\nfunction saveMusicStorage(music) {\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(STORAGE_FILE, JSON.stringify(music, null, 2));\n    } catch (error) {\n        console.error(\"Error saving music storage:\", error);\n    }\n}\nfunction getMusicStorage() {\n    return loadMusicStorage();\n}\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const form = (0,formidable__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            uploadDir: \"/tmp\",\n            keepExtensions: true,\n            maxFileSize: 100 * 1024 * 1024\n        });\n        const [fields, files] = await form.parse(req);\n        const title = Array.isArray(fields.title) ? fields.title[0] : fields.title;\n        const artist = Array.isArray(fields.artist) ? fields.artist[0] : fields.artist;\n        const description = Array.isArray(fields.description) ? fields.description[0] : fields.description;\n        const price = Array.isArray(fields.price) ? fields.price[0] : fields.price;\n        const owner = Array.isArray(fields.owner) ? fields.owner[0] : fields.owner;\n        const audioFile = Array.isArray(files.audioFile) ? files.audioFile[0] : files.audioFile;\n        const imageFile = Array.isArray(files.imageFile) ? files.imageFile[0] : files.imageFile;\n        if (!audioFile || !title || !artist || !owner) {\n            return res.status(400).json({\n                error: \"Missing required fields\"\n            });\n        }\n        // Upload files to IPFS\n        let audioUrl = \"\";\n        let imageUrl = \"\";\n        try {\n            const audioBuffer = await fs__WEBPACK_IMPORTED_MODULE_1___default().promises.readFile(audioFile.filepath);\n            audioUrl = await (0,_utils_functions_uploadToIpfs__WEBPACK_IMPORTED_MODULE_3__.uploadFileToIPFS)(audioBuffer);\n            console.log(\"Audio uploaded to IPFS:\", audioUrl);\n            if (imageFile) {\n                const imageBuffer = await fs__WEBPACK_IMPORTED_MODULE_1___default().promises.readFile(imageFile.filepath);\n                imageUrl = await (0,_utils_functions_uploadToIpfs__WEBPACK_IMPORTED_MODULE_3__.uploadFileToIPFS)(imageBuffer);\n                console.log(\"Image uploaded to IPFS:\", imageUrl);\n            }\n        } catch (ipfsError) {\n            console.error(\"IPFS upload error:\", ipfsError);\n            // Continue without IPFS for now\n            audioUrl = \"placeholder-audio-url\";\n            imageUrl = \"placeholder-image-url\";\n        }\n        // Create metadata for NFT\n        const metadata = {\n            name: title,\n            description: description || `${title} by ${artist}`,\n            image: imageUrl,\n            audio: audioUrl,\n            attributes: [\n                {\n                    trait_type: \"Artist\",\n                    value: artist\n                },\n                {\n                    trait_type: \"Title\",\n                    value: title\n                },\n                {\n                    trait_type: \"License Price\",\n                    value: price || \"0\"\n                }\n            ]\n        };\n        let metadataUrl = \"\";\n        try {\n            metadataUrl = await (0,_utils_functions_uploadToIpfs__WEBPACK_IMPORTED_MODULE_3__.uploadJSONToIPFS)(metadata);\n            console.log(\"Metadata uploaded to IPFS:\", metadataUrl);\n        } catch (metadataError) {\n            console.error(\"Metadata upload error:\", metadataError);\n            metadataUrl = \"placeholder-metadata-url\";\n        }\n        // Create unique ID for the music NFT\n        const musicId = (0,crypto__WEBPACK_IMPORTED_MODULE_4__.createHash)(\"sha256\").update(`${title}-${artist}-${Date.now()}`).digest(\"hex\").slice(0, 16);\n        // Create music NFT object\n        const musicNFT = {\n            id: musicId,\n            title: title,\n            artist: artist,\n            description: description || \"\",\n            price: price || \"0\",\n            audioUrl: audioUrl,\n            imageUrl: imageUrl,\n            owner: owner,\n            metadataUrl: metadataUrl,\n            createdAt: new Date().toISOString()\n        };\n        // Store the NFT data persistently\n        const currentMusic = loadMusicStorage();\n        currentMusic.push(musicNFT);\n        saveMusicStorage(currentMusic);\n        console.log(\"Music NFT stored:\", musicNFT);\n        // Clean up temporary files\n        try {\n            if (audioFile.filepath) await fs__WEBPACK_IMPORTED_MODULE_1___default().promises.unlink(audioFile.filepath);\n            if (imageFile?.filepath) await fs__WEBPACK_IMPORTED_MODULE_1___default().promises.unlink(imageFile.filepath);\n        } catch (cleanupError) {\n            console.error(\"Cleanup error:\", cleanupError);\n        }\n        // IP Asset will be registered on the frontend with wallet signing\n        res.status(200).json({\n            success: true,\n            musicNFT: musicNFT,\n            message: \"Music NFT uploaded successfully\"\n        });\n    } catch (error) {\n        console.error(\"Upload error:\", error);\n        res.status(500).json({\n            error: \"Failed to upload music NFT\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlQO1lBQ0ozQixPQUFPQTtZQUNQRyxRQUFRQTtZQUNSQyxhQUFhQSxlQUFlO1lBQzVCQyxPQUFPQSxTQUFTO1lBQ2hCSSxVQUFVQTtZQUNWQyxVQUFVQTtZQUNWSixPQUFPQTtZQUNQbUIsYUFBYUE7WUFDYlUsV0FBVyxJQUFJTixPQUFPTyxXQUFXO1FBQ25DO1FBRUEsa0NBQWtDO1FBQ2xDLE1BQU1DLGVBQWU5RDtRQUNyQjhELGFBQWFDLElBQUksQ0FBQ0w7UUFDbEJsRCxpQkFBaUJzRDtRQUNqQnZELFFBQVFpQyxHQUFHLENBQUMscUJBQXFCa0I7UUFFakMsMkJBQTJCO1FBQzNCLElBQUk7WUFDRixJQUFJMUIsVUFBVU8sUUFBUSxFQUFFLE1BQU1uRCxrREFBVyxDQUFDNEUsTUFBTSxDQUFDaEMsVUFBVU8sUUFBUTtZQUNuRSxJQUFJTixXQUFXTSxVQUFVLE1BQU1uRCxrREFBVyxDQUFDNEUsTUFBTSxDQUFDL0IsVUFBVU0sUUFBUTtRQUN0RSxFQUFFLE9BQU8wQixjQUFjO1lBQ3JCMUQsUUFBUUQsS0FBSyxDQUFDLGtCQUFrQjJEO1FBQ2xDO1FBRUEsa0VBQWtFO1FBRWxFbEQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQmdELFNBQVM7WUFDVFIsVUFBVUE7WUFDVlMsU0FBUztRQUNYO0lBRUYsRUFBRSxPQUFPN0QsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsaUJBQWlCQTtRQUMvQlMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQlosT0FBTztZQUNQOEQsU0FBUzlELGlCQUFpQitELFFBQVEvRCxNQUFNNkQsT0FBTyxHQUFHO1FBQ3BEO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0b3J5LW11c2ljLWRhcHAvLi9wYWdlcy9hcGkvdXBsb2FkLW11c2ljLnRzPzBmOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXG5pbXBvcnQgZm9ybWlkYWJsZSBmcm9tICdmb3JtaWRhYmxlJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCB7IHVwbG9hZEZpbGVUb0lQRlMsIHVwbG9hZEpTT05Ub0lQRlMgfSBmcm9tICcuLi8uLi91dGlscy9mdW5jdGlvbnMvdXBsb2FkVG9JcGZzJ1xuaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvY29uZmlnJ1xuaW1wb3J0IHsgY3JlYXRlQ29tbWVyY2lhbFJlbWl4VGVybXMsIFNQR05GVENvbnRyYWN0QWRkcmVzcyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gJ2NyeXB0bydcbmltcG9ydCB7IElwTWV0YWRhdGEgfSBmcm9tICdAc3RvcnktcHJvdG9jb2wvY29yZS1zZGsnXG5pbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAndmllbSdcblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgYXBpOiB7XG4gICAgYm9keVBhcnNlcjogZmFsc2UsXG4gIH0sXG59XG5cbi8vIFBlcnNpc3RlbnQgZmlsZSBzdG9yYWdlXG5jb25zdCBTVE9SQUdFX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ211c2ljLXN0b3JhZ2UuanNvbicpXG5cbmZ1bmN0aW9uIGxvYWRNdXNpY1N0b3JhZ2UoKTogYW55W10ge1xuICB0cnkge1xuICAgIGlmIChmcy5leGlzdHNTeW5jKFNUT1JBR0VfRklMRSkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoU1RPUkFHRV9GSUxFLCAndXRmOCcpXG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIG11c2ljIHN0b3JhZ2U6JywgZXJyb3IpXG4gIH1cbiAgcmV0dXJuIFtdXG59XG5cbmZ1bmN0aW9uIHNhdmVNdXNpY1N0b3JhZ2UobXVzaWM6IGFueVtdKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgZnMud3JpdGVGaWxlU3luYyhTVE9SQUdFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KG11c2ljLCBudWxsLCAyKSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgbXVzaWMgc3RvcmFnZTonLCBlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXVzaWNTdG9yYWdlKCk6IGFueVtdIHtcbiAgcmV0dXJuIGxvYWRNdXNpY1N0b3JhZ2UoKVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgZm9ybSA9IGZvcm1pZGFibGUoe1xuICAgICAgdXBsb2FkRGlyOiAnL3RtcCcsXG4gICAgICBrZWVwRXh0ZW5zaW9uczogdHJ1ZSxcbiAgICAgIG1heEZpbGVTaXplOiAxMDAgKiAxMDI0ICogMTAyNCwgLy8gMTAwTUJcbiAgICB9KVxuXG4gICAgY29uc3QgW2ZpZWxkcywgZmlsZXNdID0gYXdhaXQgZm9ybS5wYXJzZShyZXEpXG5cbiAgICBjb25zdCB0aXRsZSA9IEFycmF5LmlzQXJyYXkoZmllbGRzLnRpdGxlKSA/IGZpZWxkcy50aXRsZVswXSA6IGZpZWxkcy50aXRsZVxuICAgIGNvbnN0IGFydGlzdCA9IEFycmF5LmlzQXJyYXkoZmllbGRzLmFydGlzdCkgPyBmaWVsZHMuYXJ0aXN0WzBdIDogZmllbGRzLmFydGlzdFxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gQXJyYXkuaXNBcnJheShmaWVsZHMuZGVzY3JpcHRpb24pID8gZmllbGRzLmRlc2NyaXB0aW9uWzBdIDogZmllbGRzLmRlc2NyaXB0aW9uXG4gICAgY29uc3QgcHJpY2UgPSBBcnJheS5pc0FycmF5KGZpZWxkcy5wcmljZSkgPyBmaWVsZHMucHJpY2VbMF0gOiBmaWVsZHMucHJpY2VcbiAgICBjb25zdCBvd25lciA9IEFycmF5LmlzQXJyYXkoZmllbGRzLm93bmVyKSA/IGZpZWxkcy5vd25lclswXSA6IGZpZWxkcy5vd25lclxuXG4gICAgY29uc3QgYXVkaW9GaWxlID0gQXJyYXkuaXNBcnJheShmaWxlcy5hdWRpb0ZpbGUpID8gZmlsZXMuYXVkaW9GaWxlWzBdIDogZmlsZXMuYXVkaW9GaWxlXG4gICAgY29uc3QgaW1hZ2VGaWxlID0gQXJyYXkuaXNBcnJheShmaWxlcy5pbWFnZUZpbGUpID8gZmlsZXMuaW1hZ2VGaWxlWzBdIDogZmlsZXMuaW1hZ2VGaWxlXG5cbiAgICBpZiAoIWF1ZGlvRmlsZSB8fCAhdGl0bGUgfHwgIWFydGlzdCB8fCAhb3duZXIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0pXG4gICAgfVxuXG4gICAgLy8gVXBsb2FkIGZpbGVzIHRvIElQRlNcbiAgICBsZXQgYXVkaW9VcmwgPSAnJ1xuICAgIGxldCBpbWFnZVVybCA9ICcnXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgYXVkaW9CdWZmZXIgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShhdWRpb0ZpbGUuZmlsZXBhdGgpXG4gICAgICBhdWRpb1VybCA9IGF3YWl0IHVwbG9hZEZpbGVUb0lQRlMoYXVkaW9CdWZmZXIpXG4gICAgICBjb25zb2xlLmxvZygnQXVkaW8gdXBsb2FkZWQgdG8gSVBGUzonLCBhdWRpb1VybClcblxuICAgICAgaWYgKGltYWdlRmlsZSkge1xuICAgICAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IGF3YWl0IGZzLnByb21pc2VzLnJlYWRGaWxlKGltYWdlRmlsZS5maWxlcGF0aClcbiAgICAgICAgaW1hZ2VVcmwgPSBhd2FpdCB1cGxvYWRGaWxlVG9JUEZTKGltYWdlQnVmZmVyKVxuICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2UgdXBsb2FkZWQgdG8gSVBGUzonLCBpbWFnZVVybClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChpcGZzRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0lQRlMgdXBsb2FkIGVycm9yOicsIGlwZnNFcnJvcilcbiAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgSVBGUyBmb3Igbm93XG4gICAgICBhdWRpb1VybCA9ICdwbGFjZWhvbGRlci1hdWRpby11cmwnXG4gICAgICBpbWFnZVVybCA9ICdwbGFjZWhvbGRlci1pbWFnZS11cmwnXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG1ldGFkYXRhIGZvciBORlRcbiAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgIG5hbWU6IHRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIHx8IGAke3RpdGxlfSBieSAke2FydGlzdH1gLFxuICAgICAgaW1hZ2U6IGltYWdlVXJsLFxuICAgICAgYXVkaW86IGF1ZGlvVXJsLFxuICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICB7IHRyYWl0X3R5cGU6ICdBcnRpc3QnLCB2YWx1ZTogYXJ0aXN0IH0sXG4gICAgICAgIHsgdHJhaXRfdHlwZTogJ1RpdGxlJywgdmFsdWU6IHRpdGxlIH0sXG4gICAgICAgIHsgdHJhaXRfdHlwZTogJ0xpY2Vuc2UgUHJpY2UnLCB2YWx1ZTogcHJpY2UgfHwgJzAnIH1cbiAgICAgIF1cbiAgICB9XG5cbiAgICBsZXQgbWV0YWRhdGFVcmwgPSAnJ1xuICAgIHRyeSB7XG4gICAgICBtZXRhZGF0YVVybCA9IGF3YWl0IHVwbG9hZEpTT05Ub0lQRlMobWV0YWRhdGEpXG4gICAgICBjb25zb2xlLmxvZygnTWV0YWRhdGEgdXBsb2FkZWQgdG8gSVBGUzonLCBtZXRhZGF0YVVybClcbiAgICB9IGNhdGNoIChtZXRhZGF0YUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNZXRhZGF0YSB1cGxvYWQgZXJyb3I6JywgbWV0YWRhdGFFcnJvcilcbiAgICAgIG1ldGFkYXRhVXJsID0gJ3BsYWNlaG9sZGVyLW1ldGFkYXRhLXVybCdcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdW5pcXVlIElEIGZvciB0aGUgbXVzaWMgTkZUXG4gICAgY29uc3QgbXVzaWNJZCA9IGNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShgJHt0aXRsZX0tJHthcnRpc3R9LSR7RGF0ZS5ub3coKX1gKS5kaWdlc3QoJ2hleCcpLnNsaWNlKDAsIDE2KVxuXG4gICAgLy8gQ3JlYXRlIG11c2ljIE5GVCBvYmplY3RcbiAgICBjb25zdCBtdXNpY05GVCA9IHtcbiAgICAgIGlkOiBtdXNpY0lkLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgYXJ0aXN0OiBhcnRpc3QsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBwcmljZTogcHJpY2UgfHwgJzAnLFxuICAgICAgYXVkaW9Vcmw6IGF1ZGlvVXJsLFxuICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsLFxuICAgICAgb3duZXI6IG93bmVyLFxuICAgICAgbWV0YWRhdGFVcmw6IG1ldGFkYXRhVXJsLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9XG5cbiAgICAvLyBTdG9yZSB0aGUgTkZUIGRhdGEgcGVyc2lzdGVudGx5XG4gICAgY29uc3QgY3VycmVudE11c2ljID0gbG9hZE11c2ljU3RvcmFnZSgpXG4gICAgY3VycmVudE11c2ljLnB1c2gobXVzaWNORlQpXG4gICAgc2F2ZU11c2ljU3RvcmFnZShjdXJyZW50TXVzaWMpXG4gICAgY29uc29sZS5sb2coJ011c2ljIE5GVCBzdG9yZWQ6JywgbXVzaWNORlQpXG5cbiAgICAvLyBDbGVhbiB1cCB0ZW1wb3JhcnkgZmlsZXNcbiAgICB0cnkge1xuICAgICAgaWYgKGF1ZGlvRmlsZS5maWxlcGF0aCkgYXdhaXQgZnMucHJvbWlzZXMudW5saW5rKGF1ZGlvRmlsZS5maWxlcGF0aClcbiAgICAgIGlmIChpbWFnZUZpbGU/LmZpbGVwYXRoKSBhd2FpdCBmcy5wcm9taXNlcy51bmxpbmsoaW1hZ2VGaWxlLmZpbGVwYXRoKVxuICAgIH0gY2F0Y2ggKGNsZWFudXBFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ2xlYW51cCBlcnJvcjonLCBjbGVhbnVwRXJyb3IpXG4gICAgfVxuXG4gICAgLy8gSVAgQXNzZXQgd2lsbCBiZSByZWdpc3RlcmVkIG9uIHRoZSBmcm9udGVuZCB3aXRoIHdhbGxldCBzaWduaW5nXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbXVzaWNORlQ6IG11c2ljTkZULFxuICAgICAgbWVzc2FnZTogJ011c2ljIE5GVCB1cGxvYWRlZCBzdWNjZXNzZnVsbHknLFxuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgZXJyb3I6JywgZXJyb3IpXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHVwbG9hZCBtdXNpYyBORlQnLFxuICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICB9KVxuICB9XG59Il0sIm5hbWVzIjpbImZvcm1pZGFibGUiLCJmcyIsInBhdGgiLCJ1cGxvYWRGaWxlVG9JUEZTIiwidXBsb2FkSlNPTlRvSVBGUyIsImNyZWF0ZUhhc2giLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiU1RPUkFHRV9GSUxFIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJsb2FkTXVzaWNTdG9yYWdlIiwiZXhpc3RzU3luYyIsImRhdGEiLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImNvbnNvbGUiLCJzYXZlTXVzaWNTdG9yYWdlIiwibXVzaWMiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZ2V0TXVzaWNTdG9yYWdlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJmb3JtIiwidXBsb2FkRGlyIiwia2VlcEV4dGVuc2lvbnMiLCJtYXhGaWxlU2l6ZSIsImZpZWxkcyIsImZpbGVzIiwidGl0bGUiLCJBcnJheSIsImlzQXJyYXkiLCJhcnRpc3QiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwib3duZXIiLCJhdWRpb0ZpbGUiLCJpbWFnZUZpbGUiLCJhdWRpb1VybCIsImltYWdlVXJsIiwiYXVkaW9CdWZmZXIiLCJwcm9taXNlcyIsInJlYWRGaWxlIiwiZmlsZXBhdGgiLCJsb2ciLCJpbWFnZUJ1ZmZlciIsImlwZnNFcnJvciIsIm1ldGFkYXRhIiwibmFtZSIsImltYWdlIiwiYXVkaW8iLCJhdHRyaWJ1dGVzIiwidHJhaXRfdHlwZSIsInZhbHVlIiwibWV0YWRhdGFVcmwiLCJtZXRhZGF0YUVycm9yIiwibXVzaWNJZCIsInVwZGF0ZSIsIkRhdGUiLCJub3ciLCJkaWdlc3QiLCJzbGljZSIsIm11c2ljTkZUIiwiaWQiLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImN1cnJlbnRNdXNpYyIsInB1c2giLCJ1bmxpbmsiLCJjbGVhbnVwRXJyb3IiLCJzdWNjZXNzIiwibWVzc2FnZSIsImRldGFpbHMiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/upload-music.ts\n");

/***/ }),

/***/ "(api)/./utils/functions/uploadToIpfs.ts":
/*!*****************************************!*\
  !*** ./utils/functions/uploadToIpfs.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uploadFileToIPFS: () => (/* binding */ uploadFileToIPFS),\n/* harmony export */   uploadJSONToIPFS: () => (/* binding */ uploadJSONToIPFS)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\ndotenv__WEBPACK_IMPORTED_MODULE_1___default().config();\nconst JWT = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI1NzgyNjg5NS0zZWI5LTQ0YTEtOTVlNS0xZjk0ZDA0ODg3YjEiLCJlbWFpbCI6ImFzODk2MjcwMzUyMEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiMTE0YTQyMGI2ZmUyY2FlNDlmZTMiLCJzY29wZWRLZXlTZWNyZXQiOiIyODQ4MDViZmM1NjM5YmYyMmQwMzJlMTFkMzc2NTQyMzg3MzZhZWRkYmE2YTFmMWI4MWMwYjg2MWYzZTU4Y2ExIiwiZXhwIjoxNzgwODExMDUzfQ.dbvr2VgOxhVhXOhZ39VLkEhJsZvH8Ge_yy85lWrfWTY\";\nasync function uploadFileToIPFS(fileBuffer) {\n    try {\n        const formData = new FormData();\n        const blob = new Blob([\n            fileBuffer\n        ]);\n        formData.append(\"file\", blob);\n        const pinataMetadata = JSON.stringify({\n            name: `file-${Date.now()}`\n        });\n        formData.append(\"pinataMetadata\", pinataMetadata);\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"https://api.pinata.cloud/pinning/pinFileToIPFS\", formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n                Authorization: `Bearer ${JWT}`\n            }\n        });\n        return response.data.IpfsHash;\n    } catch (error) {\n        console.error(\"Error uploading file to IPFS:\", error);\n        throw error;\n    }\n}\nasync function uploadJSONToIPFS(jsonData) {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"https://api.pinata.cloud/pinning/pinJSONToIPFS\", jsonData, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${JWT}`\n            }\n        });\n        return response.data.IpfsHash;\n    } catch (error) {\n        console.error(\"Error uploading JSON to IPFS:\", error);\n        throw error;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9mdW5jdGlvbnMvdXBsb2FkVG9JcGZzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ3lCO0FBQ0U7QUFFM0JDLG9EQUFhO0FBRWIsTUFBTUUsTUFBTUMsaXJCQUFzQjtBQUUzQixlQUFlRyxpQkFBaUJDLFVBQWtCO0lBQ3JELElBQUk7UUFDQSxNQUFNQyxXQUFXLElBQUlDO1FBQ3JCLE1BQU1DLE9BQU8sSUFBSUMsS0FBSztZQUFDSjtTQUFXO1FBQ2xDQyxTQUFTSSxNQUFNLENBQUMsUUFBUUY7UUFFeEIsTUFBTUcsaUJBQWlCQyxLQUFLQyxTQUFTLENBQUM7WUFDbENDLE1BQU0sQ0FBQyxLQUFLLEVBQUVDLEtBQUtDLEdBQUcsR0FBRyxDQUFDO1FBQzlCO1FBQ0FWLFNBQVNJLE1BQU0sQ0FBQyxrQkFBa0JDO1FBRWxDLE1BQU1NLFdBQVcsTUFBTXBCLGtEQUFVLENBQUMsa0RBQWtEUyxVQUFVO1lBQzFGYSxTQUFTO2dCQUNMLGdCQUFnQjtnQkFDaEJDLGVBQWUsQ0FBQyxPQUFPLEVBQUVwQixJQUFJLENBQUM7WUFDbEM7UUFDSjtRQUVBLE9BQU9pQixTQUFTSSxJQUFJLENBQUNDLFFBQVE7SUFDakMsRUFBRSxPQUFPQyxPQUFPO1FBQ1pDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE1BQU1BO0lBQ1Y7QUFDSjtBQUVPLGVBQWVFLGlCQUFpQkMsUUFBYTtJQUNoRCxJQUFJO1FBQ0EsTUFBTVQsV0FBVyxNQUFNcEIsa0RBQVUsQ0FDN0Isa0RBQ0E2QixVQUNBO1lBQ0lQLFNBQVM7Z0JBQ0wsZ0JBQWdCO2dCQUNoQkMsZUFBZSxDQUFDLE9BQU8sRUFBRXBCLElBQUksQ0FBQztZQUNsQztRQUNKO1FBR0osT0FBT2lCLFNBQVNJLElBQUksQ0FBQ0MsUUFBUTtJQUNqQyxFQUFFLE9BQU9DLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsTUFBTUE7SUFDVjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RvcnktbXVzaWMtZGFwcC8uL3V0aWxzL2Z1bmN0aW9ucy91cGxvYWRUb0lwZnMudHM/YzljNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52J1xuXG5kb3RlbnYuY29uZmlnKClcblxuY29uc3QgSldUID0gcHJvY2Vzcy5lbnYuUElOQVRBX0pXVFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkRmlsZVRvSVBGUyhmaWxlQnVmZmVyOiBCdWZmZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtmaWxlQnVmZmVyXSlcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYmxvYilcblxuICAgICAgICBjb25zdCBwaW5hdGFNZXRhZGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG5hbWU6IGBmaWxlLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB9KVxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3BpbmF0YU1ldGFkYXRhJywgcGluYXRhTWV0YWRhdGEpXG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwczovL2FwaS5waW5hdGEuY2xvdWQvcGlubmluZy9waW5GaWxlVG9JUEZTJywgZm9ybURhdGEsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnLFxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtKV1R9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuSXBmc0hhc2hcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgZmlsZSB0byBJUEZTOicsIGVycm9yKVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZEpTT05Ub0lQRlMoanNvbkRhdGE6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgICAgICAgJ2h0dHBzOi8vYXBpLnBpbmF0YS5jbG91ZC9waW5uaW5nL3BpbkpTT05Ub0lQRlMnLFxuICAgICAgICAgICAganNvbkRhdGEsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7SldUfWAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLklwZnNIYXNoXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkaW5nIEpTT04gdG8gSVBGUzonLCBlcnJvcilcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJkb3RlbnYiLCJjb25maWciLCJKV1QiLCJwcm9jZXNzIiwiZW52IiwiUElOQVRBX0pXVCIsInVwbG9hZEZpbGVUb0lQRlMiLCJmaWxlQnVmZmVyIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImJsb2IiLCJCbG9iIiwiYXBwZW5kIiwicGluYXRhTWV0YWRhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsIkRhdGUiLCJub3ciLCJyZXNwb25zZSIsInBvc3QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImRhdGEiLCJJcGZzSGFzaCIsImVycm9yIiwiY29uc29sZSIsInVwbG9hZEpTT05Ub0lQRlMiLCJqc29uRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/functions/uploadToIpfs.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-music&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-music.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();